<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Stack Dashboard</title>
    <style>
        :root {
            --primary-color: #4a6cf7;
            --secondary-color: #6c757d;
            --background-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #212529;
            --border-color: #dee2e6;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            margin: 0;
            font-size: 2.5rem;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .service-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }

        .service-card h3 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 1.5rem;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }

        .service-card p {
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        .service-links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .service-link {
            display: inline-block;
            padding: 8px 15px;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }

        .service-link:hover {
            background-color: #3a5bd9;
        }

        .http-link {
            background-color: var(--secondary-color);
        }

        .http-link:hover {
            background-color: #5a6268;
        }

        .https-link {
            background-color: var(--success-color);
        }

        .https-link:hover {
            background-color: #218838;
        }

        .docs-link {
            background-color: var(--warning-color);
            color: var(--text-color);
        }

        .docs-link:hover {
            background-color: #e0a800;
        }

        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px 0;
            border-top: 1px solid var(--border-color);
            color: var(--secondary-color);
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .running {
            background-color: var(--success-color);
        }

        .stopped {
            background-color: var(--danger-color);
        }

        .service-status {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
        }

        .service-controls {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .btn {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background-color 0.3s;
        }

        .start-btn {
            background-color: var(--success-color);
            color: white;
        }

        .restart-btn {
            background-color: var(--warning-color);
            color: var(--text-color);
        }

        .stop-btn {
            background-color: var(--danger-color);
            color: white;
        }

        .docs-btn {
            background-color: var(--secondary-color);
            color: white;
            text-decoration: none;
            display: inline-block;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .services-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>AI Stack</h1>
            <p class="subtitle">Created by David Patton | <a href="https://YouTube.com/@David-Patton" style="color: white; text-decoration: underline;">YouTube Channel</a></p>
        </div>
    </header>

    <div class="container">
        <div class="services-grid">
            <div class="service-card">
                <h3>n8n</h3>
                <p>Workflow automation tool</p>
                <p><strong>Port:</strong> 5678</p>
                <p><strong>Default Login:</strong> <code>Create on first login</code></p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="https://docs.n8n.io/" class="btn docs-btn" target="_blank">Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:5678" class="service-link http-link" target="_blank">HTTP (Local)</a>
                    <a href="https://n8n.localhost" class="service-link https-link" target="_blank">HTTPS</a>
                </div>
            </div>

            <div class="service-card">
                <h3>OpenWebUI</h3>
                <p>Web interface for Ollama</p>
                <p><strong>Port:</strong> 3000</p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="https://github.com/open-webui/open-webui" class="btn docs-btn" target="_blank">Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:3000" class="service-link http-link" target="_blank">HTTP (Local)</a>
                    <a href="https://openwebui.localhost" class="service-link https-link" target="_blank">HTTPS</a>
                </div>
            </div>

            <div class="service-card">
                <h3>Ollama</h3>
                <p>Run large language models locally</p>
                <p><strong>Port:</strong> 11434</p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="https://ollama.com/docs" class="btn docs-btn" target="_blank">Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:11434" class="service-link http-link" target="_blank">HTTP (Local)</a>
                    <a href="https://ollama.localhost" class="service-link https-link" target="_blank">HTTPS</a>
                </div>
            </div>

            <div class="service-card">
                <h3>SearXNG</h3>
                <p>Privacy-respecting metasearch engine</p>
                <p><strong>Port:</strong> 8080</p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="https://docs.searxng.org/" class="btn docs-btn" target="_blank">Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:8080" class="service-link http-link" target="_blank">HTTP (Local)</a>
                    <a href="https://searxng.localhost" class="service-link https-link" target="_blank">HTTPS</a>
                </div>
            </div>

            <div class="service-card">
                <h3>YouTube Downloader</h3>
                <p>Download YouTube videos</p>
                <p><strong>Port:</strong> 8081</p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="https://github.com/Tzahi12345/YoutubeDL-Material" class="btn docs-btn" target="_blank">Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:8081" class="service-link http-link" target="_blank">HTTP (Local)</a>
                    <a href="https://ytdlp.localhost" class="service-link https-link" target="_blank">HTTPS</a>
                </div>
            </div>

            <div class="service-card">
                <h3>Web Scraper (Playwright + Crawlee)</h3>
                <p>Advanced web scraping API with browser automation</p>
                <p><strong>Port:</strong> 5000</p>
                <p><strong>API Endpoint:</strong> <code>POST /scrape</code></p>
                <p><strong>Modes:</strong> <code>basic</code>, <code>advanced</code>, <code>crawl</code></p>
                <p><strong>Example:</strong> <code>{"url": "https://example.com", "selector": "h1, p", "mode": "advanced"}</code></p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="http://localhost:5000/" class="btn docs-btn" target="_blank">API Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:5000/" class="service-link http-link" target="_blank">HTTP (Local)</a>
                    <a href="https://webscrapyd.localhost/" class="service-link https-link" target="_blank">HTTPS</a>
                </div>
            </div>

            <div class="service-card">
                <h3>Flowise</h3>
                <p>Build LLM apps with a visual interface</p>
                <p><strong>Port:</strong> 3001</p>
                <p><strong>Login:</strong> <code>admin / admin</code></p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="https://docs.flowiseai.com/" class="btn docs-btn" target="_blank">Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:3001" class="service-link http-link" target="_blank">HTTP (Local)</a>
                    <a href="https://flowise.localhost" class="service-link https-link" target="_blank">HTTPS</a>
                </div>
            </div>

            <div class="service-card">
                <h3>Portainer</h3>
                <p>Container management UI</p>
                <p><strong>Port:</strong> 9000</p>
                <p><strong>Default Login:</strong> <code>Create on first login</code></p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="https://docs.portainer.io/" class="btn docs-btn" target="_blank">Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:9000" class="service-link http-link" target="_blank">HTTP (Local)</a>
                    <a href="https://portainer.localhost" class="service-link https-link" target="_blank">HTTPS</a>
                </div>
            </div>

            <div class="service-card">
                <h3>Adminer</h3>
                <p>Database management tool</p>
                <p><strong>Port:</strong> 8082</p>
                <p><strong>Supabase Login:</strong> <code>postgres / postgres</code></p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="https://www.adminer.org/en/documentation/" class="btn docs-btn" target="_blank">Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:8082" class="service-link http-link" target="_blank">HTTP (Local)</a>
                    <a href="https://adminer.localhost" class="service-link https-link" target="_blank">HTTPS</a>
                </div>
            </div>

            <div class="service-card">
                <h3>Supabase (PostgreSQL)</h3>
                <p>PostgreSQL database</p>
                <p><strong>Port:</strong> 5432</p>
                <div class="service-status">
                    <span class="status-indicator running"></span> Running
                </div>
                <div class="service-controls">
                    <button class="btn start-btn">Start</button>
                    <button class="btn restart-btn">Restart</button>
                    <button class="btn stop-btn">Stop</button>
                </div>
                <a href="https://supabase.com/docs" class="btn docs-btn" target="_blank">Documentation</a>
                <div class="service-links">
                    <a href="http://localhost:8082?server=supabase&username=postgres&db=postgres" class="service-link http-link" target="_blank">Access via Adminer</a>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>iTaK AI Stack | Created by David Patton | <a href="https://YouTube.com/@David-Patton">YouTube Channel</a></p>
        </div>
    </footer>

    <script src="dashboard.js"></script>
    <script>
        // Function to update IP addresses in the links
        function updateNetworkLinks() {
            fetch('/api/ip')
                .then(response => response.text())
                .then(ip => {
                    const networkLinks = document.querySelectorAll('[data-network-link]');
                    networkLinks.forEach(link => {
                        const url = link.getAttribute('data-network-link');
                        link.href = url.replace('IP_ADDRESS', ip);
                        link.textContent = url.replace('IP_ADDRESS', ip);
                    });
                })
                .catch(error => console.error('Error fetching IP:', error));
        }

        // Call the function when the page loads
        document.addEventListener('DOMContentLoaded', updateNetworkLinks);
    </script>
</body>
</html>
